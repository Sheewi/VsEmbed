<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VSEmbed AI DevTool</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@mdi/font@7.4.47/css/materialdesignicons.min.css">
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
            background-color: #1e1e1e;
            color: #cccccc;
            overflow: hidden;
        }

        #root {
            height: 100vh;
            width: 100vw;
        }

        .loading {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            font-size: 18px;
        }

        .loading-spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #3498db;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 2s linear infinite;
            margin-right: 15px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <div id="root">
        <!-- VS Code-style Top Bar -->
        <div style="display: flex; align-items: center; height: 32px; background: #23232e; color: #d4d4d4; border-bottom: 1px solid #1b1b1f; font-size: 13px; user-select: none; position: relative;">
            <div style="display: flex; gap: 14px; margin-left: 12px;">
                <span style="padding: 0 8px; border-radius: 2px; cursor: pointer;">File</span>
                <div style="position: absolute; left: 12px; top: 32px; background: #23232e; color: #d4d4d4; border: 1px solid #1b1b1f; border-radius: 4px; box-shadow: 0 2px 8px #00000040; display: none; z-index: 1000; min-width: 180px;" id="file-menu-dropdown">
                    <div style="padding: 8px 16px; cursor: pointer;">New File</div>
                    <div style="padding: 8px 16px; cursor: pointer;">Open File...</div>
                    <div style="padding: 8px 16px; cursor: pointer;">Save</div>
                    <div style="padding: 8px 16px; cursor: pointer;">Save As...</div>
                    <div style="padding: 8px 16px; cursor: pointer;">Create Workspace</div>
                    <div style="padding: 8px 16px; cursor: pointer;">Close Window</div>
                </div>
                <span style="padding: 0 8px; border-radius: 2px; cursor: pointer;">Edit</span>
                <span style="padding: 0 8px; border-radius: 2px; cursor: pointer;">Selection</span>
                <span style="padding: 0 8px; border-radius: 2px; cursor: pointer;">View</span>
                <span style="padding: 0 8px; border-radius: 2px; cursor: pointer;">Go</span>
                <span style="padding: 0 8px; border-radius: 2px; cursor: pointer;">Run</span>
                <span style="padding: 0 8px; border-radius: 2px; cursor: pointer;">Terminal</span>
                <span style="padding: 0 8px; border-radius: 2px; cursor: pointer;">Help</span>
            </div>
            <div style="flex: 1; display: flex; justify-content: center;">
                <input type="text" placeholder="Search..." style="height: 22px; width: 320px; border-radius: 4px; border: none; padding: 0 10px; background: #252526; color: #d4d4d4; font-size: 13px; outline: none; margin: 0 auto; display: block; text-align: center;">
            </div>
            <div style="display: flex; gap: 8px; margin-right: 24px;">
                <span title="Explorer" class="mdi mdi-file-tree" style="width: 26px; height: 26px; display: flex; align-items: center; justify-content: center; border-radius: 3px; cursor: pointer; font-size: 22px;"></span>
                <span title="Search" class="mdi mdi-magnify" style="width: 26px; height: 26px; display: flex; align-items: center; justify-content: center; border-radius: 3px; cursor: pointer; font-size: 22px;"></span>
                <span title="Source Control" class="mdi mdi-source-branch" style="width: 26px; height: 26px; display: flex; align-items: center; justify-content: center; border-radius: 3px; cursor: pointer; font-size: 22px;"></span>
                <span title="Debug" class="mdi mdi-bug" style="width: 26px; height: 26px; display: flex; align-items: center; justify-content: center; border-radius: 3px; cursor: pointer; font-size: 22px;"></span>
                <span title="Extensions" class="mdi mdi-puzzle" style="width: 26px; height: 26px; display: flex; align-items: center; justify-content: center; border-radius: 3px; cursor: pointer; font-size: 22px;"></span>
            </div>
            <div style="display: flex; gap: 1px; margin-right: 8px;">
                <span title="Minimize" class="mdi mdi-window-minimize" style="width: 30px; height: 26px; display: flex; align-items: center; justify-content: center; border-radius: 3px; cursor: pointer; font-size: 22px;"></span>
                <span title="Maximize" class="mdi mdi-window-maximize" style="width: 30px; height: 26px; display: flex; align-items: center; justify-content: center; border-radius: 3px; cursor: pointer; font-size: 22px;"></span>
                <span title="Close" class="mdi mdi-close" style="width: 30px; height: 26px; display: flex; align-items: center; justify-content: center; border-radius: 3px; cursor: pointer; font-size: 22px;"></span>
            </div>
        </div>
        <script>
        // File menu dropdown logic
        const fileMenu = document.querySelector('span[style*="File"]');
        const fileMenuDropdown = document.getElementById('file-menu-dropdown');
        fileMenu.addEventListener('click', () => {
            fileMenuDropdown.style.display = fileMenuDropdown.style.display === 'block' ? 'none' : 'block';
        });
        document.addEventListener('click', (e) => {
            if (!fileMenu.contains(e.target) && !fileMenuDropdown.contains(e.target)) {
                fileMenuDropdown.style.display = 'none';
            }
        });
        </script>
        <!-- VS Code-style Main Layout -->
        <div style="display: flex; height: calc(100vh - 54px);">
            <!-- Activity Bar -->
            <div id="activity-bar" style="width: 48px; background: #23232e; border-right: 1px solid #1b1b1f; display: flex; flex-direction: column; align-items: center; padding: 6px 0; gap: 6px;">
                <span class="mdi mdi-file-tree" id="activity-explorer" style="width: 36px; height: 36px; background: #1b1b1f; border-radius: 5px; color: #fff; cursor: pointer; font-size: 22px; display: flex; align-items: center; justify-content: center;" title="Explorer"></span>
                <span class="mdi mdi-magnify" id="activity-search" style="width: 36px; height: 36px; background: transparent; border-radius: 5px; color: #858585; cursor: pointer; font-size: 22px; display: flex; align-items: center; justify-content: center;" title="Search"></span>
                <span class="mdi mdi-source-branch" id="activity-source" style="width: 36px; height: 36px; background: transparent; border-radius: 5px; color: #858585; cursor: pointer; font-size: 22px; display: flex; align-items: center; justify-content: center;" title="Source Control"></span>
                <span class="mdi mdi-bug" id="activity-debug" style="width: 36px; height: 36px; background: transparent; border-radius: 5px; color: #858585; cursor: pointer; font-size: 22px; display: flex; align-items: center; justify-content: center;" title="Debug"></span>
                <span class="mdi mdi-puzzle" id="activity-extensions" style="width: 36px; height: 36px; background: transparent; border-radius: 5px; color: #858585; cursor: pointer; font-size: 22px; display: flex; align-items: center; justify-content: center;" title="Extensions"></span>
            </div>
            <!-- Sidebar -->
            <div id="sidebar" style="width: 300px; background: #252526; border-right: 1px solid #1b1b1f; display: flex; flex-direction: column;">
                <div id="sidebar-header" style="height: 35px; background: #23232e; border-bottom: 1px solid #1b1b1f; display: flex; align-items: center; padding: 0 16px; font-size: 11px; font-weight: 600; text-transform: uppercase; letter-spacing: 0.5px;">EXPLORER</div>
                <div id="sidebar-content" style="flex: 1; padding: 16px; overflow: auto;">
                    <!-- Example file list -->
                    <div style="margin-bottom: 8px; cursor: pointer;">src/</div>
                    <div style="margin-left: 16px; margin-bottom: 4px; cursor: pointer;">main.ts</div>
                    <div style="margin-left: 16px; margin-bottom: 4px; cursor: pointer;">renderer/</div>
                    <div style="margin-left: 32px; margin-bottom: 4px; cursor: pointer;">index.tsx</div>
                    <div style="margin-left: 32px; margin-bottom: 4px; cursor: pointer;">App.tsx</div>
                    <div style="margin-bottom: 8px; cursor: pointer;">package.json</div>
                    <div style="margin-bottom: 8px; cursor: pointer;">README.md</div>
                </div>
            </div>
            <!-- Center Panel (Grok-style) -->
            <div id="center-panel" style="flex: 1; background: #1e1e1e; display: flex; flex-direction: column;">
                <div style="height: 35px; background: #23232e; border-bottom: 1px solid #1b1b1f; display: flex; align-items: center; padding: 0 12px;">
                    <span id="chat-mode-label" style="font-weight: 600;">Chat (Auto Mode)</span>
                    <select id="chat-mode" style="margin-left: 16px; background: #252526; color: #d4d4d4; border-radius: 4px; border: none; padding: 2px 8px; font-size: 13px;">
                        <option value="auto">Auto</option>
                        <option value="visual">Visual</option>
                        <option value="search">Search</option>
                        <option value="model">Model Only</option>
                    </select>
                </div>
                <div id="chat-area" style="flex: 1; padding: 20px; display: flex; flex-direction: column; gap: 12px; overflow-y: auto;">
                    <!-- Chat messages will appear here -->
                </div>
                <div id="chat-input-area" style="padding: 12px 20px; background: #23232e; border-top: 1px solid #1b1b1f; display: flex; align-items: center; gap: 8px;">
                    <input id="chat-input" type="text" placeholder="Type your message..." style="flex: 1; height: 28px; border-radius: 4px; border: none; padding: 0 10px; background: #252526; color: #d4d4d4; font-size: 14px; outline: none;">
                    <input id="chat-file" type="file" style="display: none;">
                    <button id="chat-send" style="background: #007acc; color: #fff; border: none; border-radius: 4px; padding: 6px 16px; font-size: 14px; cursor: pointer;">Send</button>
                </div>
                <div id="analytics-panel" style="height: 120px; background: #23232e; border-top: 1px solid #1b1b1f; padding: 12px 20px; color: #d4d4d4; font-size: 13px; display: flex; align-items: center; gap: 24px;">
                    <div>Analytics: <span id="analytics-summary">No data yet.</span></div>
                </div>
            </div>
            <!-- Terminal Panel -->
            <div id="terminal-panel" style="width: 100%; height: 180px; background: #181818; color: #e0e0e0; font-size: 13px; border-top: 1px solid #222; padding: 8px 16px; overflow-y: auto; position: absolute; bottom: 22px; left: 0; z-index: 10; display: none;"></div>
        </div>
        <script>
        // Activity bar interactivity
        const activityBar = document.getElementById('activity-bar');
        const sidebarHeader = document.getElementById('sidebar-header');
        const sidebarContent = document.getElementById('sidebar-content');
        const explorerBtn = document.getElementById('activity-explorer');
        const searchBtn = document.getElementById('activity-search');
        const sourceBtn = document.getElementById('activity-source');
        const debugBtn = document.getElementById('activity-debug');
        const extensionsBtn = document.getElementById('activity-extensions');
        explorerBtn.onclick = () => {
            sidebarHeader.textContent = 'EXPLORER';
            sidebarContent.innerHTML = `<div style="margin-bottom: 8px; cursor: pointer;">src/</div>
                <div style="margin-left: 16px; margin-bottom: 4px; cursor: pointer;">main.ts</div>
                <div style="margin-left: 16px; margin-bottom: 4px; cursor: pointer;">renderer/</div>
                <div style="margin-left: 32px; margin-bottom: 4px; cursor: pointer;">index.tsx</div>
                <div style="margin-left: 32px; margin-bottom: 4px; cursor: pointer;">App.tsx</div>
                <div style="margin-bottom: 8px; cursor: pointer;">package.json</div>
                <div style="margin-bottom: 8px; cursor: pointer;">README.md</div>`;
        };
        searchBtn.onclick = () => {
            sidebarHeader.textContent = 'SEARCH';
            sidebarContent.innerHTML = `<input type="text" placeholder="Search files..." style="width: 90%; margin: 8px 0; padding: 6px; border-radius: 4px; border: none; background: #23232e; color: #d4d4d4;">`;
        };
        sourceBtn.onclick = () => {
            sidebarHeader.textContent = 'SOURCE CONTROL';
            sidebarContent.innerHTML = `<div style="margin-bottom: 8px;">No source control setup.</div>`;
        };
        debugBtn.onclick = () => {
            sidebarHeader.textContent = 'DEBUG';
            sidebarContent.innerHTML = `<div style="margin-bottom: 8px;">No debug configurations.</div>`;
        };
        extensionsBtn.onclick = () => {
            sidebarHeader.textContent = 'EXTENSIONS';
            sidebarContent.innerHTML = `<div style="margin-bottom: 8px;">No extensions installed.</div>`;
        };

        // Chat panel logic
        const chatMode = document.getElementById('chat-mode');
        const chatModeLabel = document.getElementById('chat-mode-label');
        chatMode.onchange = function() {
            chatModeLabel.textContent = `Chat (${chatMode.options[chatMode.selectedIndex].text} Mode)`;
            document.getElementById('chat-file').style.display = chatMode.value === 'visual' ? 'inline-block' : 'none';
        };

        // Chat send logic
        const chatInput = document.getElementById('chat-input');
        const chatSend = document.getElementById('chat-send');
        const chatArea = document.getElementById('chat-area');
        const analyticsSummary = document.getElementById('analytics-summary');
        chatSend.onclick = function() {
            const msg = chatInput.value;
            if (!msg) return;
            const div = document.createElement('div');
            div.style.padding = '8px 12px';
            div.style.background = '#23232e';
            div.style.borderRadius = '6px';
            div.style.color = '#d4d4d4';
            div.textContent = `You: ${msg}`;
            chatArea.appendChild(div);
            chatInput.value = '';
            // Simulate bot response
            setTimeout(() => {
                const botDiv = document.createElement('div');
                botDiv.style.padding = '8px 12px';
                botDiv.style.background = '#252526';
                botDiv.style.borderRadius = '6px';
                botDiv.style.color = '#4CAF50';
                botDiv.textContent = `Grok: Response to "${msg}"`;
                chatArea.appendChild(botDiv);
                analyticsSummary.textContent = `Last query: "${msg}" | Mode: ${chatMode.options[chatMode.selectedIndex].text}`;
            }, 600);
        };

        // Terminal panel logic
        let terminalVisible = false;
        const terminalPanel = document.getElementById('terminal-panel');
        const terminalMenu = document.querySelector('span[style*="Terminal"]');
        terminalMenu.onclick = function() {
            terminalVisible = !terminalVisible;
            terminalPanel.style.display = terminalVisible ? 'block' : 'none';
        };
        </script>
        <!-- Status Bar -->
        <div style="height: 22px; background: #007acc; display: flex; align-items: center; justify-content: space-between; padding: 0 12px; font-size: 12px; color: #ffffff; position: fixed; bottom: 0; left: 0; width: 100vw; z-index: 100;">
            <span>Ready</span>
            <span>VS Code Interface Active • No Errors!</span>
        </div>
    </div>
</body>
</html>
